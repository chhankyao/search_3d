<!DOCTYPE html>

<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>


<script>
    function load_3d(img_id) {
        document.getElementById(img_id)
                .style.display = "none";
        document.getElementById(img_id + '_3d')
                .style.display = "block";
    }
    function close_3d(img_id) {
        document.getElementById(img_id)
                .style.display = "block";
        document.getElementById(img_id + '_3d')
                .style.display = "none";
    }
</script>



<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <!-- custom css file link  -->
   <link rel="stylesheet" href="css/style.css">

</head>
<body>

<div class="container">

   <h1 class="heading">Search 3D</h1>

   <img src="images/google_logo.png" align='top' height=50px>

   <input type="text" placeholder="search images" id="search-box">

   <div class="image-container">

      <div id='zebra_11' class="image" data-title="zebra">
         <img src="images/zebra/zebra_11.png" alt="">
         <h4>
           Zebra
           <button type="button" onclick="load_3d('zebra_11')">Load 3D</button>
         </h4>
      </div>
      <div id='zebra_11_3d' class="mesh" data-title="zebra">
         <model-viewer autoplay ar shadow-intensity="1" src="images/zebra/zebra_11.glb" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" auto-rotate camera-controls></model-viewer>
         <h4>
           Zebra
           <button type="button" onclick="close_3d('zebra_11')">Close 3D</button>
         </h4>
      </div>

      <div class="image" data-title="zebra">
         <img src="images/zebra/zebra_22.png" alt="">
         <h4>Zebra</h4>
      </div>
      <div id='zebra_22_3d' class="mesh" data-title="zebra">
         <model-viewer autoplay ar shadow-intensity="1" src="images/zebra/zebra_22.glb" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" auto-rotate camera-controls></model-viewer>
         <h4>
           Zebra
           <button type="button" onclick="close_3d('zebra_22')">Close 3D</button>
         </h4>
      </div>

      <div class="image" data-title="zebra">
         <img src="images/zebra/zebra_27.png" alt="">
         <h4>Zebra</h4>
      </div>
      <div id='zebra_27_3d' class="mesh" data-title="zebra">
         <model-viewer autoplay ar shadow-intensity="1" src="images/zebra/zebra_27.glb" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" auto-rotate camera-controls></model-viewer>
         <h4>
           Zebra
           <button type="button" onclick="close_3d('zebra_27')">Close 3D</button>
         </h4>
      </div>

      <div class="image" data-title="giraffe">
         <img src="images/giraffe/giraffe_12.png" alt="">
         <h4>Giraffe</h4>
      </div>
      <div id='giraffe_12_3d' class="mesh" data-title="giraffe">
         <model-viewer autoplay ar shadow-intensity="1" src="images/giraffe/giraffe_12.glb" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" auto-rotate camera-controls></model-viewer>
         <h4>
           Zebra
           <button type="button" onclick="close_3d('giraffe_12')">Close 3D</button>
         </h4>
      </div>

      <div class="image" data-title="giraffe">
         <img src="images/giraffe/giraffe_15.png" alt="">
         <h4>Giraffe</h4>
      </div>
      <div id='giraffe_15_3d' class="mesh" data-title="giraffe">
         <model-viewer autoplay ar shadow-intensity="1" src="images/giraffe/giraffe_15.glb" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" auto-rotate camera-controls></model-viewer>
         <h4>
           Zebra
           <button type="button" onclick="close_3d('giraffe_15')">Close 3D</button>
         </h4>
      </div>

      <div class="image" data-title="giraffe">
         <img src="images/giraffe/giraffe_16.png" alt="">
         <h4>Giraffe</h4>
      </div>
      <div id='giraffe_16_3d' class="mesh" data-title="giraffe">
         <model-viewer autoplay ar shadow-intensity="1" src="images/giraffe/giraffe_16.glb" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" auto-rotate camera-controls></model-viewer>
         <h4>
           Zebra
           <button type="button" onclick="close_3d('giraffe_16')">Close 3D</button>
         </h4>
      </div>

   </div>

</div>

<script>

let searchBox = document.querySelector('#search-box');
let images = document.querySelectorAll('.container .image-container .image');
let buttons = document.querySelectorAll('.button');

searchBox.oninput = () =>{
   images.forEach(hide => hide.style.display = 'none');
   let value = searchBox.value;
   images.forEach(filter =>{
      let title = filter.getAttribute('data-title');
      if(value == title){
         filter.style.display = 'block';
      }
      if(searchBox.value == ''){
         filter.style.display = 'block';
      }
   });
};

</script>

</body>
</html>
